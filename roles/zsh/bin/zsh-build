#!/usr/bin/env zsh

setopt +o nomatch

if [[ ! -f ~/.zsh.d/.zshrc || $(ls -t  ~/.zsh.d/*.zshrc 2>/dev/null | head -n1) -nt ~/.zsh.d/.zshrc ]]; then
  cat ~/.zsh.d/*.zshrc > ~/.zsh.d/.zshrc
fi

if [[ ! -f ~/.zsh.d/.zshrc.zwc || ~/.zsh.d/.zshrc -nt ~/.zsh.d/.zshrc.zwc ]]; then
  zcompile ~/.zsh.d/.zshrc
fi

if [[ ! -f ~/.zshrc.zwc || ~/.zshrc -nt ~/.zshrc.zwc ]]; then
  zcompile ~/.zshrc
fi

